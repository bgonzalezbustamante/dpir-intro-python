<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Musashi Harukawa, DPIR">
  <title>Introduction to Python for Social Science</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../reveal.js/css/reset.css">
  <link rel="stylesheet" href="../reveal.js/css/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <link rel="stylesheet" href="../reveal.js/css/theme/../../../dpir-intro-theme.css" id="theme">
  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? '../reveal.js/css/print/pdf.css' : '../reveal.js/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>
  <!--[if lt IE 9]>
  <script src="../reveal.js/lib/js/html5shiv.js"></script>
  <![endif]-->
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">Introduction to Python for Social Science</h1>
  <p class="subtitle">Lecture 2 - Data Structures and Pandas I</p>
  <p class="author">Musashi Harukawa, DPIR</p>
  <p class="date">2nd Week Hilary 2020</p>
</section>

<section><section id="last-week" class="title-slide slide level1"><h1>Last Week</h1><ul>
<li class="fragment">What is Python, and what can I use it for?</li>
<li class="fragment">What tools do I have to write, test and run Python code?
<ul>
<li class="fragment">Opening up JupyterLab/Notebooks/IPython</li>
<li class="fragment">Executing code in Jupyter, etc.</li>
</ul></li>
<li class="fragment">Writing your first Python script and notebook.
<ul>
<li class="fragment">Data Types</li>
<li class="fragment">Data Structures</li>
</ul></li>
</ul></section>
<section id="this-week" class="slide level2">
<h2>This Week</h2>
<p>This week we will learn about a key library for working with <strong>data</strong>:</p>
<ul>
<li class="fragment">Thinking about (tabular) data</li>
<li class="fragment">I/O</li>
<li class="fragment">Slicing, indexing</li>
<li class="fragment">Summarising</li>
</ul>
</section></section>
<section id="the-hard-truth-about-data-science" class="title-slide slide level1"><h1>The Hard Truth About Data Science…</h1><ul>
<li class="fragment">Analysis usually takes &lt;30% of your time.</li>
<li class="fragment">&gt;50% of your time will be spent reading, cleaning, checking, storing, and cursing your data.</li>
<li class="fragment">Data cleaning is meticulous work, but that doesn’t mean you can’t be efficient.</li>
</ul></section>
<section id="thinking-about-data" class="title-slide slide level1"><h1>Thinking About Data</h1><p>We can think of a data point as having two properties:</p>
<ol type="1">
<li class="fragment">Value</li>
<li class="fragment">Relation (to other values)</li>
</ol>
<aside class="notes">
<ul>
<li class="fragment">Inherent in value is an abstract type that the value is an instance of.</li>
<li class="fragment">In data science, we are often more concerned with the latter than the former for the bulk of the analysis. I say this because we don’t tend to care about the exact values, beyond type, until the end, when we look at the output of our model. When building our pipeline, what matters most is the type and structure of data.</li>
</ul>
</aside></section>
<section><section id="data-structures" class="title-slide slide level1"><h1>Data Structures</h1><p>Three Ways of Structuring Data:</p>
<ul>
<li class="fragment">Graph</li>
<li class="fragment">Tree (Hierarchical)</li>
<li class="fragment"><strong>Tabular</strong></li>
</ul>
<aside class="notes">
Option: Do an example of how we can structure data about the members of the class.
</aside></section>
<section id="graph" class="slide level2">
<h2>Graph</h2>
<ul>
<li class="fragment">Graphs are constructed of nodes (vertices) and edges.</li>
</ul>
<figure>
<img data-src="https://upload.wikimedia.org/wikipedia/commons/9/9c/Graphe_initial_avant_contraction.png" alt="" /><figcaption>Graph</figcaption>
</figure>
<aside class="notes">
<ul>
<li class="fragment">Nodes and edges can have values associated with them.</li>
<li class="fragment">A special case of graphs, called directed graphs, have edges with directions associated with them.</li>
</ul>
</aside>
</section>
<section id="trees" class="slide level2">
<h2>Trees</h2>
<ul>
<li class="fragment">A tree is a type of graph with <a href="https://en.wikipedia.org/wiki/Tree_(graph_theory)#Tree">a number of properties</a></li>
<li class="fragment">Commonly used to represent hierarchical data structures, such as nested sets or dependency/flow diagrams.</li>
</ul>
<figure>
<img data-src="https://upload.wikimedia.org/wikipedia/commons/c/cd/Arbol3.PNG" alt="" /><figcaption>Tree</figcaption>
</figure>
<aside class="notes">
<ul>
<li class="fragment">Websites are all trees in their backend.</li>
<li class="fragment">A lot of the data you encounter will be tree-like in nature.
<ul>
<li class="fragment">A key point about this is that each element in this tree may not have the same properties. This can cause problems when attempting to convert to tabular data.</li>
</ul></li>
</ul>
</aside>
</section>
<section id="tabular-data" class="slide level2">
<h2>Tabular Data</h2>
<ul>
<li class="fragment">Tabular data consists of an ordered arrangement of rows and columns.</li>
<li class="fragment">A common example is a spreadsheet.</li>
<li class="fragment">In this class will often be referred to as a matrix <span class="math inline"><strong>X</strong><sub><strong>i</strong><strong>j</strong></sub></span> of <span class="math inline"><em>i</em></span> observations of <span class="math inline"><em>j</em></span> variables.
<ul>
<li class="fragment">Note all columns must be of equal length (<span class="math inline"><em>i</em></span>), and all rows must be of equal length (<span class="math inline"><em>j</em></span>).</li>
</ul></li>
</ul>
<aside class="notes">
In this class we are primarily focused on tabular data. If your data is not tabular, you may want to figure out some way to coerce it to a tabular format because most statistical/ML models assume tabular data.
</aside>
</section>
<section id="coercing-data-structures" class="slide level2">
<h2>Coercing Data Structures</h2>
<ul>
<li class="fragment">In reality, processes we observe are rarely tabular.
<ul>
<li class="fragment">Some observations may have special characteristics that others do not. (<span class="math inline"><em>j</em></span> is not equal for all <span class="math inline"><em>i</em></span>)</li>
<li class="fragment">There may no be inherent ordering in our observations, or the characteristics (<span class="math inline"><em>i</em></span> or <span class="math inline"><em>j</em></span> are not orderable).</li>
<li class="fragment">Observations may be related, overlapping, or nested in a way that is relevant to our model but not suitable for a two-dimensional table.</li>
</ul></li>
<li class="fragment"><em>Take away</em>:
<ul>
<li class="fragment">When we receive or generate tabular data, we should keep in mind the <em>data-generating process</em> and decide whether we are systematically losing information that is relevant to our model.</li>
<li class="fragment">Trade-offs and subjective decisions are always necessary; make these clear and do your best to justify them.</li>
</ul></li>
</ul>
</section></section>
<section><section id="pandas" class="title-slide slide level1"><h1><code>pandas</code></h1><p><code>pandas</code> is a very popular library for working with tabular data structures in Python.</p>
<ul>
<li class="fragment">provides fast, flexible data structures</li>
<li class="fragment">extensive array of convenient functions</li>
<li class="fragment">compatible with most data science libraries</li>
</ul></section>
<section id="when-you-should-not-use-pandas" class="slide level2">
<h2>When you should <strong>not</strong> use <code>pandas</code></h2>
<ul>
<li class="fragment">Your data is not coercible to a tabular structure.</li>
<li class="fragment">When your dataset is too large to load in your computer’s memory (or loading it uses most of your RAM).</li>
</ul>
<aside class="notes">
<ul>
<li class="fragment"><code>pandas</code> is so standard, that it makes more sense to talk about the scenarios in which you would not want to use pandas</li>
<li class="fragment">Note on RAM: It’s not straightforward to predict the size of a dataset loaded into <code>pandas</code>. There are also options for dealing with datasets this large, although those are beyond what I can discuss in the lecture.</li>
</ul>
</aside>
</section>
<section id="data-io" class="slide level2">
<h2>Data I/O</h2>
<p><code>pandas</code> comes with functions for reading and writing to all kinds of data formats. A quick list can be viewed using tab completion:</p>
<pre class="{python}"><code>In [1]: import pandas as pd

In [2]: pd.read_&lt;TAB&gt;
 read_clipboard() read_hdf()       read_sas()
 read_csv         read_html()      read_sql()
 read_excel()     read_json()      read_sql_query()
 read_feather()   read_msgpack()   read_sql_table()
 read_fwf()       read_parquet()   read_stata()
 read_gbq()       read_pickle()    read_table</code></pre>
<aside class="notes">
<ul>
<li class="fragment">Explain what I/O means.</li>
<li class="fragment">This is a good moment to mention tab completion. Revisit it later during the coding tutorial.</li>
</ul>
</aside>
</section>
<section id="csv-format" class="slide level2">
<h2><code>csv</code> format</h2>
<p><code>csv</code> (<em>comma-separated-values</em> or as I prefer, <em>character-separated values</em>), is a standard <em>plain text</em> tabular data storage format.</p>
<p>Some reasons to use <code>csv</code>:</p>
<ul>
<li class="fragment">lightweight</li>
<li class="fragment">human-readable</li>
<li class="fragment">optional header (first row)</li>
<li class="fragment">mostly portable between systems
<ul>
<li class="fragment"><em>(use unicode for character encoding please)</em></li>
</ul></li>
</ul>
<p>Some limitations of <code>csv</code>:</p>
<ul>
<li class="fragment">unpredictable behaviour of separator is common character (e.g. <code>,</code>)</li>
<li class="fragment">fixed number of rows (strictly tabular)</li>
<li class="fragment">not very durable</li>
</ul>
</section></section>
    </div>
  </div>

  <script src="../reveal.js/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Push each slide change to the browser history
        history: true,

        // Optional reveal.js plugins
        dependencies: [
          { src: '../reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: '../reveal.js/plugin/zoom-js/zoom.js', async: true },
          { src: '../reveal.js/plugin/notes/notes.js', async: true }
        ]
      });
    </script>
    </body>
</html>
